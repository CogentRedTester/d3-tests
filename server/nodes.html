<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf8">
    <title>D3 Nodes</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="css/indepth.css">
</head>
<body>
    <h1>D3 Nodes</h1>
    <div class="row">
        <div class="column">
            <h2>Force Graph</h2>
            <svg id="force_1" class="bordered">
                <defs>
                    <marker id="arrowhead-subscribe" viewBox="0 0 10 10"
                            markerWidth="10" markerHeight="10"
                            refX="30" refY="5" orient="auto">
                        <path d="M0,0 L0,10 L10,5 L0,0" class="edges arrow"/>
                    </marker>
                    <marker id="arrowhead-publish" viewBox="0 0 10 10"
                            markerWidth="10" markerHeight="10"
                            refX="25" refY="5" orient="auto">
                        <path d="M0,0 L0,10 L10,5 L0,0" class="edges arrow"/>
                    </marker>
                </defs>
                
                <g class="edges force_graph"></g>
                <g class="nodes force_graph"></g>
                <g class="labels force_graph"></g>
            </svg>
            <br>
            <button onclick="json_graph()">Update</button>
            <button onclick="random_graph()">Randomise</button>
            <label for="channel_checkbox" class="noselect">Channels</label>
            <input type="checkbox" id="channel_checkbox" name="channel" checked="true" onchange="update()">
            <input type="number" min="0" max="10000" step="1" value="" id="num_m">
            <input type="number" min="0" max="10000" step="1" value="" id="num_ch">
            <input type="number" min="0" max="10000" step="1" value="" id="num_con">
            <button onclick="kill_simulation()">Kill Simulation</button>
        </div>

        <div class="column">
            <h2>Matrix</h2>
            <div id="matrix_2_container" class="scrollable">
                <svg id="matrix_2" overflow="scroll">
                    <g class="cells data"></g>
                    <g class="headers rows cells"></g>
                    <g class="headers columns cells"></g>
                    <g class="matrix rules">
                        <g class="matrix mid-vertical"></g>
                        <g class="matrix vertical"></g>
                        <g class="matrix horizontal"></g>
                    </g>
                    <g class="highlights"></g>
                    <g class="sorts"></g>
                </svg>
            </div>
            <br>
            <button onclick="resetZoom(document.getElementById('matrix_2'))">Reset Zoom</button>
            <button onclick="matrix_json()">Update</button>
            <label for="scroll_checkbox" class="noselect">Enable Scrolling</label>
            <input type="checkbox" id="scroll_checkbox" name="scroll" checked="true">
            |
            <button onclick="sort()">Reset Sort</button>
            <button onclick="sort(sort_selected, sort_selected)">Sort Selected</button>

        </div>
    </div>
    <label for="search">Search:</label>
    <input id="searchbar" onkeyup="search()" type="text" name="search">
    |
    <label for="fade_checkbox" class="noselect">Fade</label>
    <input type="checkbox" id="fade_checkbox" name="fade" checked="true" onchange="update()">
    |
    <label for="node_colour" class="noselect">Colour Nodes</label>
    <input type="checkbox" id="node_colour" name="node_colour" checked="true" onchange="update()">
    |
    <label for="edge_colour" class="noselect">Colour Edges</label>
    <input type="checkbox" id="edge_colour" name="edge_colour" checked="true" onchange="update()">
    |
    <!-- <label for="edge_colour" class="noselect">Colour Edges</label>
    <input type="checkbox" id="edge_colour" name="edge_colour" checked="true" onchange="update()"> -->
<script type="module">
    import "https://cdn.skypack.dev/d3-scale-chromatic@3";    
</script>
<script src="scripts/nodes.js"></script>
</body>
</html>